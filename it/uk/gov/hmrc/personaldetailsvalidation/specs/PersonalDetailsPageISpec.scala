package uk.gov.hmrc.personaldetailsvalidation.specs

import uk.gov.hmrc.personaldetailsvalidation.pages.ErrorPage

class PersonalDetailsPageISpec extends BaseIntegrationSpec {

  feature("Personal Details Page") {

    scenario("Personal Details page accessed without a valid completionUrl") {

      When("I navigate to /personal-details-validation/personal-details without completionUrl")
      goTo("/personal-details")

      Then("I should see the error page")
      on(ErrorPage())
    }

    scenario("Personal Details page accessed without a invalid completionUrl") {

      When("I navigate to /personal-details-validation/personal-details with invalid completionUrl")
      goTo("/personal-details?completionUrl=http://host")

      Then("I should see the error page")
      on(ErrorPage())
    }
  }
}
